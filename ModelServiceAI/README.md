# üëÅÔ∏è TrackVision: ModelServiceAI

–°–µ—Ä–≤–∏—Å –Ω–∞ –±–∞–∑–µ **FastAPI** –∏ **YOLO**, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ª—é–¥–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ WebSocket-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.

## üöÄ –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫

* **Python 3.12+** (—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `uv`)
* **FastAPI** ‚Äî –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫.
* **YOLOv8/v11** ‚Äî –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤.
* **Dishka** ‚Äî Dependency Injection –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
* **OpenCV** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
.
‚îú‚îÄ‚îÄ data/               # –î–∞—Ç–∞—Å–µ—Ç—ã –∏ –≤–µ—Å–∞ –º–æ–¥–µ–ª–µ–π (.pt)
‚îú‚îÄ‚îÄ research/           # Jupyter Notebooks —Å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/            # –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ WebSocket —Ä–æ—É—Ç–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ app/            # –õ–æ–≥–∏–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ domain/         # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ infrastructure/ # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ (YOLO, DB)
‚îÇ   ‚îú‚îÄ‚îÄ ioc/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Dishka (DI)
‚îÇ   ‚îî‚îÄ‚îÄ utils/          # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (JSON —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îú‚îÄ‚îÄ tests/              # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏ —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ main.py             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ pyproject.toml      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

```

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ `uv`. –ï—Å–ª–∏ –æ–Ω –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

```bash
pip install uv

```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
uv sync

```

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
uv run python main.py

```

*Web-socket –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `ws://localhost:8000/apiV1/track*`

---

## üì° API: WebSocket Track

–û—Å–Ω–æ–≤–Ω–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞.

**URL:** `/apiV1/track`

**–ü—Ä–æ—Ç–æ–∫–æ–ª –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:**

1. –ö–ª–∏–µ–Ω—Ç —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç **–±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** (bytes) ‚Äî –≤–∏–¥–µ–æ, –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.
2. –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∂–¥—ã–µ n –º–∏–ª–∏ —Å–µ–∫—É–Ω–¥ **JSON** —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏.

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**

```json
{
  "status": true,
  "num": 5
}

```
–ó–¥–µ—Å—å "num" - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Å–æ–∫–µ—Ç–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –≤–∏–¥–µ–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ –ø–∞–ø–∫–µ `tests`:

```bash
uv run pytest tests/socket_test.py

```

–ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ä—É—á–Ω–æ–π —Ç–µ—Å—Ç —Å –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–º:

```bash
python tests/manual_socket_test.py # –¢—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

```

---

## üß† Research & Model

–í –ø–∞–ø–∫–µ `research/` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–æ—É—Ç–±—É–∫ `YoLoModel.ipynb`

–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:
--

–í n-—É—é —Å–µ–∫—É–Ω–¥—É –ø–µ—Ä–µ–¥–∞–ª—Å—è –∫–∞–¥—Ä –≤–∏–¥–µ–æ:
![img.png](data/other/doc.png)

–°–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω–µ—Ç:
```json
{
  "status": true,
  "num": 4
}
```